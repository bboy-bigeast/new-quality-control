# 质检管理系统 - 功能说明

## 系统概述

这是一个基于Django框架的专业质检管理系统，专门用于干膜产品生产过程中的质量控制和数据分析。系统提供了完整的质量监控、统计分析、过程能力分析等功能。

## 当前系统状态

✅ **系统状态**: 正常运行  
✅ **数据库**: MySQL连接正常  
✅ **API接口**: 全部正常工作  
✅ **前端界面**: 响应式设计，功能完整  

## 核心功能模块

### 1. 数据管理
- **产品检测数据管理**: 支持干膜产品的各项质量指标录入和管理
- **产品标准管理**: 支持外控标准和内控标准的配置
- **批量数据生成**: 通过`seed_data`命令生成测试数据

### 2. 质量监控
- **实时质量趋势图**: 显示各项质量指标的时间序列变化
- **移动极差控制图**: 监控过程变异，识别异常波动
- **过程能力分析**: 计算CP/CPK指数，评估过程能力

### 3. 统计分析
- **合格率统计**: 自动计算内控、外控、出厂合格率
- **正态分布分析**: 可视化数据分布特性
- **标准差分析**: 提供±1σ到±5σ的辅助线

### 4. 查询筛选
- **多维度查询**: 按产品牌号、产线、日期范围筛选
- **实时结果展示**: 查询结果即时显示在表格中
- **图表联动**: 查询条件自动应用到所有图表

## 技术架构

### 后端技术栈
- **框架**: Django 5.2.5
- **数据库**: MySQL 8.0.41
- **API设计**: RESTful风格
- **数据处理**: NumPy, SciPy

### 前端技术栈  
- **UI框架**: Bootstrap 5.1.3
- **图表库**: Chart.js 3.x
- **响应式设计**: 支持桌面和移动设备
- **实时交互**: AJAX异步数据加载

## 数据模型

### DryFilmProduct (干膜产品)
- 产品牌号、批号、产线信息
- 检测日期、检测人员
- 质量指标: 固含、粘度、酸值、水分、残单等
- 判定结果: 外控整体判定、内控整体判定、判定状态

### ProductStandard (产品标准)
- 产品牌号、检测项目
- 标准类型: 外控标准/内控标准  
- 上限、下限、目标值
- 修改记录和原因

## API接口系统

### 1. `/api/search-products/`
- 功能: 产品查询搜索
- 参数: product_code, production_line, start_date, end_date
- 返回: 产品列表和详细信息

### 2. `/api/chart-data/` 
- 功能: 质量趋势图数据
- 参数: product_code, production_line, test_item, start_date, end_date
- 返回: 时间序列数据和统计信息

### 3. `/api/moving-range-data/`
- 功能: 移动极差图数据
- 返回: 移动极差数据和控製图参数

### 4. `/api/capability-analysis/`
- 功能: 能力分析数据
- 返回: 直方图、正态分布曲线、过程能力指数

## 使用指南

### 1. 启动系统
```bash
# 启动Django开发服务器
python manage.py runserver

# 访问系统
打开浏览器访问: http://127.0.0.1:8000
```

### 2. 管理后台
- 地址: http://127.0.0.1:8000/admin/
- 功能: 数据管理、用户管理、系统配置

### 3. 数据生成
```bash
# 生成测试数据
python manage.py seed_data
```

### 4. 系统测试
```bash
# 运行完整功能测试
python test_system.py
```

## 特色功能

### 智能合格率计算
- 自动区分内控、外控、出厂合格率
- 基于实际判定结果动态计算
- 颜色编码显示（绿色≥95%, 黄色≥90%, 红色<90%）

### 专业质量控制
- 基于统计过程控制(SPC)理论
- 符合工业质量标准
- 科学的决策支持

### 实时数据可视化
- 多图表联动更新
- 响应式界面设计
- 实时数据加载

## 系统优势

1. **专业性强**: 专门为干膜产品质量控制设计
2. **功能完整**: 覆盖从数据录入到分析决策的全流程
3. **技术先进**: 采用现代化的Web技术栈
4. **扩展性好**: 模块化设计，易于功能扩展
5. **用户体验**: 直观的界面和流畅的操作体验

## 后续优化建议

1. **性能优化**: 大数据量下的图表渲染性能
2. **权限管理**: 完善的用户角色和权限控制
3. **数据导出**: 支持报表导出功能
4. **预警系统**: 质量异常自动预警
5. **移动端**: 专门的移动端应用

## 技术支持

系统基于成熟的技术栈构建，具备良好的稳定性和可维护性。如有技术问题，请参考Django官方文档和相关技术社区。
